{% extends 'base_admin.html.twig' %}

{% block title %}{% if isEdit %}Edit Gameweek{% else %}Add Gameweek{% endif %}{% endblock %}

{% block content %}
    <div class="mb-4">
        <a href="{{ path('manage_gameweeks') }}" class="btn btn-sm btn-outline-secondary">
            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8"/>
            </svg>
            Back to Gameweeks
        </a>
    </div>

    <h1 class="h2 mb-4">{% if isEdit %}Edit Gameweek{% else %}Add Gameweek{% endif %}</h1>

    {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

    <div class="row">
        <div class="col-md-6 mb-3">
            {{ form_label(form.season) }}
            {{ form_widget(form.season) }}
            {{ form_errors(form.season) }}
            <small class="form-text text-muted">Enter the season year (e.g., 1)</small>
        </div>

        <div class="col-md-6 mb-3">
            {{ form_label(form.number) }}
            {{ form_widget(form.number) }}
            {{ form_errors(form.number) }}
        </div>
    </div>

    <div class="mb-3">
        {{ form_label(form.title) }}
        {{ form_widget(form.title) }}
        {{ form_errors(form.title) }}
        <small class="form-text text-muted">Optional: A descriptive title for this gameweek</small>
    </div>

    <div class="mb-3">
        {{ form_label(form.description) }}
        {{ form_widget(form.description) }}
        {{ form_errors(form.description) }}
        <small class="form-text text-muted">Optional: Additional description or notes</small>
    </div>

    <div class="row">
        <div class="col-md-6 mb-3">
            {{ form_label(form.startsAt) }}
            {{ form_widget(form.startsAt) }}
            {{ form_errors(form.startsAt) }}
        </div>

        <div class="col-md-6 mb-3">
            {{ form_label(form.endsAt) }}
            {{ form_widget(form.endsAt) }}
            {{ form_errors(form.endsAt) }}
        </div>
    </div>

    {{ form_rest(form) }}

    <div class="mt-4">
        <button type="submit" class="btn btn-primary btn-lg">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                <path d="m10.97 4.97-.02.022-3.473 4.425-2.093-2.094a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05"/>
            </svg>
            {% if isEdit %}Update Gameweek{% else %}Create Gameweek{% endif %}
        </button>
        <a href="{{ path('manage_gameweeks') }}" class="btn btn-outline-secondary btn-lg">Cancel</a>
    </div>

    {{ form_end(form) }}
{% endblock %}
